<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile - Tonnie Roofing Admin</title>
    <style>
        /* Complete CSS for Admin Profile Page */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            overflow: hidden;
            height: 100vh;
        }
        
        /* Dark Theme for Admin */
        body.dark-theme {
            background: #1a1a1a;
            color: #e0e0e0;
        }
        
        body.dark-theme .sidebar {
            background: #1e1e1e;
        }
        
        body.dark-theme .top-bar,
        body.dark-theme .form-container,
        body.dark-theme .info-card,
        body.dark-theme .social-card {
            background: #2d2d2d;
            color: #e0e0e0;
            border-color: #444;
        }
        
        body.dark-theme .nav-item {
            color: #b0b0b0;
        }
        
        body.dark-theme .nav-item:hover,
        body.dark-theme .nav-item.active {
            background: #2d2d2d;
            color: #d97706;
        }
        
        body.dark-theme .page-title h1,
        body.dark-theme .page-title p,
        body.dark-theme .section-title {
            color: #e0e0e0;
        }
        
        body.dark-theme .form-label {
            color: #e0e0e0;
        }
        
        body.dark-theme .form-control {
            background: #3d3d3d;
            border-color: #555;
            color: #e0e0e0;
        }
        
        body.dark-theme .form-control:focus {
            border-color: #d97706;
        }
        
        body.dark-theme .info-label {
            color: #b0b0b0;
        }
        
        body.dark-theme .info-value {
            color: #e0e0e0;
        }
        
        /* No scrollbar */
        body, html {
            overflow: hidden;
            height: 100%;
        }
        
        .main-content {
            height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .main-content::-webkit-scrollbar {
            display: none;
        }
        
        /* Admin Layout */
        .admin-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            background: #1a202c;
            color: white;
            height: 100vh;
            position: fixed;
            width: 280px;
            overflow-y: auto;
            scrollbar-width: none;
            z-index: 100;
        }
        
        .sidebar::-webkit-scrollbar {
            display: none;
        }
        
        .sidebar-header {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid #2d3748;
        }
        
        .sidebar-header .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .sidebar-header .logo img {
            height: 40px;
            width: auto;
            object-fit: contain;
        }
        
        .sidebar-header .logo span {
            font-size: 1.3rem;
            font-weight: bold;
            color: #d97706;
        }
        
        .sidebar-header .logo small {
            color: #a0aec0;
            font-size: 0.8rem;
            display: block;
            margin-top: 0.2rem;
        }
        
        .nav-menu {
            padding: 1.5rem 0;
        }
        
        .nav-section {
            margin-bottom: 1.5rem;
        }
        
        .nav-section-title {
            padding: 0 1.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #a0aec0;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1.5rem;
            color: #cbd5e0;
            text-decoration: none;
            transition: all 0.3s;
            border-left: 3px solid transparent;
            min-height: 48px;
        }
        
        .nav-item:hover {
            background: #2d3748;
            color: white;
        }
        
        .nav-item.active {
            background: #2d3748;
            color: #d97706;
            border-left-color: #d97706;
        }
        
        .nav-item i {
            width: 24px;
            font-size: 1.2rem;
        }
        
        .badge {
            margin-left: auto;
            background: #d97706;
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 50px;
            font-size: 0.7rem;
        }
        
        /* Main Area */
        .main-area {
            margin-left: 280px;
            padding: 2rem;
        }
        
        /* Top Bar */
        .top-bar {
            background: white;
            border-radius: 15px;
            padding: 1rem 2rem;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .page-title h1 {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 0.2rem;
        }
        
        .page-title p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .admin-profile {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        
        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.3rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: background 0.3s;
        }
        
        .theme-toggle:hover {
            background: #f0f0f0;
        }
        
        .admin-avatar {
            width: 44px;
            height: 44px;
            background: #d97706;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        /* Form Container */
        .form-container {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .form-header h2 {
            font-size: 1.3rem;
            color: #333;
        }
        
        .form-actions {
            display: flex;
            gap: 1rem;
        }
        
        .btn {
            padding: 0.8rem 1.8rem;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            min-height: 48px;
            font-size: 0.95rem;
        }
        
        .btn-primary {
            background: #d97706;
            color: white;
        }
        
        .btn-primary:hover {
            background: #b45f06;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(217, 119, 6, 0.3);
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #ddd;
        }
        
        .btn-secondary:hover {
            background: #e9ecef;
        }
        
        /* Profile Grid */
        .profile-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        /* Form Sections */
        .form-section {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #eee;
        }
        
        .form-section:last-child {
            border-bottom: none;
        }
        
        .section-title {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .form-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid #eee;
            border-radius: 10px;
            font-size: 0.95rem;
            transition: all 0.3s;
            background: #f8f9fa;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #d97706;
            background: white;
        }
        
        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }
        
        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }
        
        /* Image Upload */
        .image-upload-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .image-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            overflow: hidden;
            border: 4px solid #d97706;
            position: relative;
            cursor: pointer;
        }
        
        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-preview-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .image-preview:hover .image-preview-overlay {
            opacity: 1;
        }
        
        .logo-preview {
            width: 200px;
            height: 80px;
            margin: 0 auto 1.5rem;
            overflow: hidden;
            border: 2px solid #ddd;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            background: white;
        }
        
        .logo-preview img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .hero-preview {
            width: 100%;
            height: 150px;
            margin-bottom: 1.5rem;
            overflow: hidden;
            border: 2px solid #ddd;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
        }
        
        .hero-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .upload-hint {
            color: #666;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }
        
        /* Social Media Cards */
        .social-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .social-icon {
            width: 48px;
            height: 48px;
            background: #d97706;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .social-fields {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 2fr auto;
            gap: 0.5rem;
            align-items: center;
        }
        
        .social-platform {
            font-weight: 600;
            color: #333;
        }
        
        .social-input {
            padding: 0.5rem;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        .social-toggle {
            width: 44px;
            height: 44px;
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .social-toggle.active {
            background: #d97706;
            color: white;
            border-color: #d97706;
        }
        
        .add-social {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: white;
            border: 2px dashed #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }
        
        .add-social:hover {
            border-color: #d97706;
            color: #d97706;
        }
        
        /* Info Card */
        .info-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
        }
        
        .info-label {
            font-size: 0.8rem;
            color: #999;
            margin-bottom: 0.2rem;
        }
        
        .info-value {
            font-weight: 600;
            color: #333;
        }
        
        /* Working Hours Grid */
        .hours-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        /* Services Checkbox Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .service-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: white;
            border: 1px solid #eee;
            border-radius: 8px;
        }
        
        .service-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .profile-grid {
                grid-template-columns: 1fr;
            }
            
            .social-fields {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .admin-container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .main-area {
                margin-left: 0;
                padding: 1rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .hours-grid {
                grid-template-columns: 1fr;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .form-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="/static/uploads/tonnie-logo.png" alt="Tonnie Roofing">
                    <div>
                        <span>TONNIE</span>
                        <small>Admin Panel</small>
                    </div>
                </div>
            </div>
            
            <nav class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <a href="/admin/dashboard" class="nav-item">
                        <i>üìä</i> Dashboard
                    </a>
                    <a href="/admin/analytics" class="nav-item">
                        <i>üìà</i> Analytics
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Content</div>
                    <a href="/admin/projects" class="nav-item">
                        <i>üèóÔ∏è</i> Projects
                    </a>
                    <a href="/admin/services" class="nav-item">
                        <i>üõ†Ô∏è</i> Services
                    </a>
                    <a href="/admin/inquiries" class="nav-item">
                        <i>üì®</i> Inquiries
                        <span class="badge">8</span>
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Settings</div>
                    <a href="/admin/profile" class="nav-item active">
                        <i>üë§</i> Profile
                    </a>
                    <a href="#" class="nav-item" onclick="logout()">
                        <i>üö™</i> Logout
                    </a>
                </div>
            </nav>
        </aside>
        
        <!-- Main Content Area -->
        <main class="main-area">
            <!-- Top Bar -->
            <div class="top-bar">
                <div class="page-title">
                    <h1>Edit Company Profile</h1>
                    <p>Manage your company information and settings</p>
                </div>
                
                <div class="admin-profile">
                    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>
                    <div class="admin-avatar">JT</div>
                </div>
            </div>
            
            <!-- Form Container -->
            <div class="form-container">
                <div class="form-header">
                    <h2>Company Information</h2>
                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="cancelEdit()">Cancel</button>
                        <button class="btn btn-primary" onclick="saveProfile()">Save Changes</button>
                    </div>
                </div>
                
                <form id="profileForm">
                    <div class="profile-grid">
                        <!-- Left Column -->
                        <div>
                            <!-- Company Images -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span>üñºÔ∏è</span> Company Images
                                </div>
                                
                                <div class="image-upload-card">
                                    <div class="logo-preview" onclick="uploadLogo()">
                                        <img src="/static/uploads/tonnie-logo.png" alt="Company Logo" id="logoPreview">
                                        <div class="image-preview-overlay">Change Logo</div>
                                    </div>
                                    <input type="file" id="logoUpload" style="display: none;" accept="image/*" onchange="previewLogo(this)">
                                    <div class="upload-hint">Click to upload company logo (Recommended: 200x80px)</div>
                                </div>
                                
                                <div class="image-upload-card">
                                    <div class="hero-preview" onclick="uploadHero()">
                                        <img src="/static/uploads/thumbnails/hero.jpg" alt="Hero Banner" id="heroPreview">
                                        <div class="image-preview-overlay">Change Banner</div>
                                    </div>
                                    <input type="file" id="heroUpload" style="display: none;" accept="image/*" onchange="previewHero(this)">
                                    <div class="upload-hint">Click to upload hero banner image (Recommended: 1920x600px)</div>
                                </div>
                                
                                <div class="image-upload-card">
                                    <div class="image-preview" onclick="uploadCEOPhoto()">
                                        <img src="/static/uploads/profile/ceo.jpg" alt="CEO Photo" id="ceoPreview">
                                        <div class="image-preview-overlay">Change Photo</div>
                                    </div>
                                    <input type="file" id="ceoUpload" style="display: none;" accept="image/*" onchange="previewCEO(this)">
                                    <div class="upload-hint">Click to upload CEO photo (Recommended: 400x400px)</div>
                                </div>
                            </div>
                            
                            <!-- CEO Information -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span>üë§</span> CEO Information
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">CEO Name</label>
                                    <input type="text" class="form-control" id="ceoName" value="John Tonnie">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">CEO Title</label>
                                    <input type="text" class="form-control" id="ceoTitle" value="Founder & CEO">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">CEO Bio</label>
                                    <textarea class="form-control" id="ceoBio" rows="4">With over 20 years of experience in the construction industry, John Tonnie founded Tonnie Roofing in 2015 with a vision to provide quality roofing and interior design services to Kenyan homeowners and businesses.</textarea>
                                </div>
                            </div>
                            
                            <!-- Company Details -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span>üè¢</span> Company Details
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Company Name</label>
                                    <input type="text" class="form-control" id="companyName" value="Tonnie Roofing Limited">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Tagline</label>
                                    <input type="text" class="form-control" id="tagline" value="Professional Roofing & Interior Design Services">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Company Description</label>
                                    <textarea class="form-control" id="companyDescription" rows="3">Your trusted partner in quality construction since 2015. We provide professional roofing, interior design, and repair services across Kenya.</textarea>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Active Since</label>
                                        <input type="text" class="form-control" id="activeSince" value="2015">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Years in Business</label>
                                        <input type="text" class="form-control" id="yearsInBusiness" value="8+">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column -->
                        <div>
                            <!-- Contact Information -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span>üìû</span> Contact Information
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Phone (Office)</label>
                                        <input type="text" class="form-control" id="phoneOffice" value="+254 700 000 000">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Phone (Sales)</label>
                                        <input type="text" class="form-control" id="phoneSales" value="+254 711 111 111">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Phone (Emergency)</label>
                                        <input type="text" class="form-control" id="phoneEmergency" value="+254 722 222 222">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email (General)</label>
                                        <input type="email" class="form-control" id="emailGeneral" value="info@tonnieroofing.co.ke">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Email (Sales)</label>
                                        <input type="email" class="form-control" id="emailSales" value="sales@tonnieroofing.co.ke">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email (Quotes)</label>
                                        <input type="email" class="form-control" id="emailQuotes" value="quotes@tonnieroofing.co.ke">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Address -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span>üìç</span> Address
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Street Address</label>
                                    <input type="text" class="form-control" id="street" value="Kilimani Business Centre">
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">City</label>
                                        <input type="text" class="form-control" id="city" value="Nairobi">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">County</label>
                                        <select class="form-control" id="county">
                                            <option value="Nairobi" selected>Nairobi</option>
                                            <option value="Kiambu">Kiambu</option>
                                            <option value="Machakos">Machakos</option>
                                            <option value="Kajiado">Kajiado</option>
                                            <option value="Mombasa">Mombasa</option>
                                            <option value="Kisumu">Kisumu</option>
                                            <option value="Nakuru">Nakuru</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">PO Box</label>
                                    <input type="text" class="form-control" id="poBox" value="PO Box 12345-00100">
                                </div>
                            </div>
                            
                            <!-- Business Hours -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span>‚è∞</span> Business Hours
                                </div>
                                
                                <div class="hours-grid">
                                    <div class="form-group">
                                        <label class="form-label">Monday - Friday</label>
                                        <input type="text" class="form-control" id="hoursWeekdays" value="8:00 AM - 6:00 PM">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Saturday</label>
                                        <input type="text" class="form-control" id="hoursSaturday" value="9:00 AM - 3:00 PM">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Sunday</label>
                                        <input type="text" class="form-control" id="hoursSunday" value="Closed">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Emergency</label>
                                        <input type="text" class="form-control" id="hoursEmergency" value="24/7">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Repairs Available</label>
                                    <input type="text" class="form-control" id="repairsHours" value="Monday to Friday, 8:00 AM - 6:00 PM">
                                </div>
                            </div>
                            
                            <!-- Services -->
                            <div class="form-section">
                                <div class="section-title">
                                    <span>üõ†Ô∏è</span> Services Offered
                                </div>
                                
                                <div class="services-grid">
                                    <div class="service-checkbox">
                                        <input type="checkbox" id="serviceRoofing" checked>
                                        <label for="serviceRoofing">Roofing</label>
                                    </div>
                                    <div class="service-checkbox">
                                        <input type="checkbox" id="serviceInterior" checked>
                                        <label for="serviceInterior">Interior Design</label>
                                    </div>
                                    <div class="service-checkbox">
                                        <input type="checkbox" id="serviceRepairs" checked>
                                        <label for="serviceRepairs">Repairs</label>
                                    </div>
                                    <div class="service-checkbox">
                                        <input type="checkbox" id="serviceQuoting" checked>
                                        <label for="serviceQuoting">Quoting Service</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Social Media Section (Full Width) -->
                    <div class="form-section">
                        <div class="section-title">
                            <span>üåê</span> Social Media Links
                        </div>
                        
                        <div id="socialMediaList">
                            <!-- Facebook -->
                            <div class="social-card">
                                <div class="social-icon">üìò</div>
                                <div class="social-fields">
                                    <span class="social-platform">Facebook</span>
                                    <input type="url" class="social-input" value="https://facebook.com/tonnieroofing" placeholder="Facebook URL">
                                    <div class="social-toggle active" onclick="toggleSocial(this)">‚úì</div>
                                </div>
                            </div>
                            
                            <!-- Instagram -->
                            <div class="social-card">
                                <div class="social-icon">üì∑</div>
                                <div class="social-fields">
                                    <span class="social-platform">Instagram</span>
                                    <input type="url" class="social-input" value="https://instagram.com/tonnieroofing" placeholder="Instagram URL">
                                    <div class="social-toggle active" onclick="toggleSocial(this)">‚úì</div>
                                </div>
                            </div>
                            
                            <!-- Twitter -->
                            <div class="social-card">
                                <div class="social-icon">üê¶</div>
                                <div class="social-fields">
                                    <span class="social-platform">Twitter</span>
                                    <input type="url" class="social-input" value="https://twitter.com/tonnieroofing" placeholder="Twitter URL">
                                    <div class="social-toggle active" onclick="toggleSocial(this)">‚úì</div>
                                </div>
                            </div>
                            
                            <!-- WhatsApp -->
                            <div class="social-card">
                                <div class="social-icon">üí¨</div>
                                <div class="social-fields">
                                    <span class="social-platform">WhatsApp</span>
                                    <input type="url" class="social-input" value="https://wa.me/254700000000" placeholder="WhatsApp Link">
                                    <div class="social-toggle active" onclick="toggleSocial(this)">‚úì</div>
                                </div>
                            </div>
                            
                            <!-- YouTube -->
                            <div class="social-card">
                                <div class="social-icon">‚ñ∂Ô∏è</div>
                                <div class="social-fields">
                                    <span class="social-platform">YouTube</span>
                                    <input type="url" class="social-input" value="" placeholder="YouTube Channel URL">
                                    <div class="social-toggle" onclick="toggleSocial(this)">‚úì</div>
                                </div>
                            </div>
                            
                            <!-- LinkedIn -->
                            <div class="social-card">
                                <div class="social-icon">üîó</div>
                                <div class="social-fields">
                                    <span class="social-platform">LinkedIn</span>
                                    <input type="url" class="social-input" value="" placeholder="LinkedIn URL">
                                    <div class="social-toggle" onclick="toggleSocial(this)">‚úì</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="add-social" onclick="addSocialPlatform()">
                            <span>‚ûï</span>
                            <span>Add Custom Social Platform</span>
                        </div>
                    </div>
                    
                    <!-- Preview Card -->
                    <div class="info-card">
                        <div class="section-title">
                            <span>üëÅÔ∏è</span> Profile Preview
                        </div>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Company Name</span>
                                <span class="info-value" id="previewCompany">Tonnie Roofing Limited</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Active Since</span>
                                <span class="info-value" id="previewSince">2015</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Phone</span>
                                <span class="info-value" id="previewPhone">+254 700 000 000</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Email</span>
                                <span class="info-value" id="previewEmail">info@tonnieroofing.co.ke</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Location</span>
                                <span class="info-value" id="previewLocation">Nairobi, Kenya</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Working Days</span>
                                <span class="info-value" id="previewHours">Mon-Fri: 8am-6pm</span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </main>
    </div>
    
    <!-- Custom Social Platform Modal -->
    <div id="addSocialModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 15px; padding: 2rem; max-width: 400px; width: 90%;">
            <h3 style="margin-bottom: 1rem; color: #333;">Add Custom Social Platform</h3>
            
            <div class="form-group">
                <label class="form-label">Platform Name</label>
                <input type="text" class="form-control" id="newPlatformName" placeholder="e.g., TikTok">
            </div>
            
            <div class="form-group">
                <label class="form-label">Icon (Emoji)</label>
                <input type="text" class="form-control" id="newPlatformIcon" placeholder="e.g., üéµ">
            </div>
            
            <div class="form-group">
                <label class="form-label">URL</label>
                <input type="url" class="form-control" id="newPlatformUrl" placeholder="https://...">
            </div>
            
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button onclick="closeSocialModal()" style="flex: 1; padding: 0.8rem; background: #f8f9fa; border: 1px solid #ddd; border-radius: 8px; cursor: pointer;">Cancel</button>
                <button onclick="addSocial()" style="flex: 1; padding: 0.8rem; background: #d97706; color: white; border: none; border-radius: 8px; cursor: pointer;">Add Platform</button>
            </div>
        </div>
    </div>
    
    <script>
        // Check authentication
        document.addEventListener('DOMContentLoaded', function() {
            const adminSession = localStorage.getItem('adminSession');
            if (!adminSession) {
                window.location.href = '/admin/login?error=unauthorized';
                return;
            }
            
            // Load saved theme
            const savedTheme = localStorage.getItem('adminTheme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }
            
            // Setup preview updates
            setupPreviewUpdates();
        });
        
        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            const isDark = document.body.classList.contains('dark-theme');
            localStorage.setItem('adminTheme', isDark ? 'dark' : 'light');
        }
        
        // Setup preview updates
        function setupPreviewUpdates() {
            const fields = [
                { id: 'companyName', preview: 'previewCompany' },
                { id: 'activeSince', preview: 'previewSince' },
                { id: 'phoneOffice', preview: 'previewPhone' },
                { id: 'emailGeneral', preview: 'previewEmail' }
            ];
            
            fields.forEach(field => {
                document.getElementById(field.id).addEventListener('input', function(e) {
                    document.getElementById(field.preview).textContent = e.target.value || '-';
                });
            });
            
            // Location preview
            document.getElementById('city').addEventListener('input', updateLocation);
            document.getElementById('county').addEventListener('change', updateLocation);
            
            // Hours preview
            document.getElementById('hoursWeekdays').addEventListener('input', function(e) {
                document.getElementById('previewHours').textContent = e.target.value || '-';
            });
        }
        
        function updateLocation() {
            const city = document.getElementById('city').value || 'Nairobi';
            const county = document.getElementById('county').value || 'Nairobi';
            document.getElementById('previewLocation').textContent = `${city}, ${county}`;
        }
        
        // Image upload functions
        function uploadLogo() {
            document.getElementById('logoUpload').click();
        }
        
        function uploadHero() {
            document.getElementById('heroUpload').click();
        }
        
        function uploadCEOPhoto() {
            document.getElementById('ceoUpload').click();
        }
        
        function previewLogo(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('logoPreview').src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        function previewHero(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('heroPreview').src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        function previewCEO(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('ceoPreview').src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        // Toggle social active state
        function toggleSocial(element) {
            element.classList.toggle('active');
        }
        
        // Add custom social platform
        function addSocialPlatform() {
            document.getElementById('addSocialModal').style.display = 'flex';
        }
        
        function closeSocialModal() {
            document.getElementById('addSocialModal').style.display = 'none';
        }
        
        function addSocial() {
            const name = document.getElementById('newPlatformName').value;
            const icon = document.getElementById('newPlatformIcon').value;
            const url = document.getElementById('newPlatformUrl').value;
            
            if (!name || !icon || !url) {
                alert('Please fill in all fields');
                return;
            }
            
            const socialList = document.getElementById('socialMediaList');
            const newCard = document.createElement('div');
            newCard.className = 'social-card';
            newCard.innerHTML = `
                <div class="social-icon">${icon}</div>
                <div class="social-fields">
                    <span class="social-platform">${name}</span>
                    <input type="url" class="social-input" value="${url}" placeholder="${name} URL">
                    <div class="social-toggle active" onclick="toggleSocial(this)">‚úì</div>
                </div>
            `;
            
            socialList.appendChild(newCard);
            closeSocialModal();
            
            // Clear form
            document.getElementById('newPlatformName').value = '';
            document.getElementById('newPlatformIcon').value = '';
            document.getElementById('newPlatformUrl').value = '';
        }
        
        // Save profile
        function saveProfile() {
            const profileData = {
                companyName: document.getElementById('companyName').value,
                tagline: document.getElementById('tagline').value,
                description: document.getElementById('companyDescription').value,
                activeSince: document.getElementById('activeSince').value,
                yearsInBusiness: document.getElementById('yearsInBusiness').value,
                
                ceo: {
                    name: document.getElementById('ceoName').value,
                    title: document.getElementById('ceoTitle').value,
                    bio: document.getElementById('ceoBio').value
                },
                
                contact: {
                    phone: document.getElementById('phoneOffice').value,
                    sales: document.getElementById('phoneSales').value,
                    emergency: document.getElementById('phoneEmergency').value,
                    email: document.getElementById('emailGeneral').value,
                    salesEmail: document.getElementById('emailSales').value,
                    quotesEmail: document.getElementById('emailQuotes').value
                },
                
                address: {
                    street: document.getElementById('street').value,
                    city: document.getElementById('city').value,
                    county: document.getElementById('county').value,
                    poBox: document.getElementById('poBox').value
                },
                
                hours: {
                    weekdays: document.getElementById('hoursWeekdays').value,
                    saturday: document.getElementById('hoursSaturday').value,
                    sunday: document.getElementById('hoursSunday').value,
                    emergency: document.getElementById('hoursEmergency').value,
                    repairs: document.getElementById('repairsHours').value
                },
                
                services: {
                    roofing: document.getElementById('serviceRoofing').checked,
                    interior: document.getElementById('serviceInterior').checked,
                    repairs: document.getElementById('serviceRepairs').checked,
                    quoting: document.getElementById('serviceQuoting').checked
                },
                
                social: []
            };
            
            // Collect social media data
            document.querySelectorAll('.social-card').forEach(card => {
                const icon = card.querySelector('.social-icon').textContent;
                const platform = card.querySelector('.social-platform').textContent;
                const url = card.querySelector('.social-input').value;
                const active = card.querySelector('.social-toggle').classList.contains('active');
                
                if (url && active) {
                    profileData.social.push({
                        platform: platform,
                        icon: icon,
                        url: url,
                        active: active
                    });
                }
            });
            
            console.log('Saving profile:', profileData);
            alert('Profile saved successfully!');
        }
        
        // Cancel edit
        function cancelEdit() {
            if (confirm('Are you sure you want to cancel? Any unsaved changes will be lost.')) {
                window.location.href = '/admin/dashboard';
            }
        }
        
        // Logout
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('adminSession');
                localStorage.removeItem('rememberedUsername');
                localStorage.removeItem('adminTheme');
                window.location.href = '/admin/login';
            }
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl + S to save
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveProfile();
            }
        });
    </script>
</body>
</html>